package test;

import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.ObjectOutputStream;
import java.io.OutputStream;
import java.io.OutputStreamWriter;
import java.io.PrintWriter;
import java.net.Socket;
import java.net.UnknownHostException;

public class ClientChat {
	
	public static final int SERVER_SOCKET_PORT = 8050;

	public static void main(String[] args) throws IOException {
		sendObject();
	}
	
	
	private static void sendMessage() throws UnknownHostException, IOException {
		Socket client = new Socket("localhost", SERVER_SOCKET_PORT);
		BufferedWriter out = new BufferedWriter(new OutputStreamWriter(client.getOutputStream()));
		out.write("CIAOCIAOCIAO");
		out.close();
		System.out.println("messaggio inviato");
	}
	
	private static void sendObject() throws IOException {
		Socket client = new Socket("localhost",  SERVER_SOCKET_PORT);
		OutputStream os = client.getOutputStream();
		ObjectOutputStream oos = new ObjectOutputStream(os);
		oos.writeObject(new Message("virus", "attivato"));
		
		oos.close();
		os.close();
		System.out.println("messaggio inviato");		
	}

}
